<div class="container mt-4">
  <div class="card shadow-sm mx-auto" style="max-width: 600px;">
    <div class="card-header bg-primary text-white">
      <h4 class="mb-0">
        {{ esEditar ? 'Editar Cliente' : 'Nuevo Cliente' }}
      </h4>
    </div>

    <div class="card-body">
      <form [formGroup]="form" (ngSubmit)="guardar()">

        <!-- RAZÓN SOCIAL -->
        <div class="mb-3">
          <label class="form-label fw-semibold">Razón Social</label>
          <input
            type="text"
            class="form-control"
            formControlName="razon_social"
            placeholder="Nombre de la empresa"
          >

          <div
            *ngIf="form.get('razon_social')?.touched && form.get('razon_social')?.hasError('required')"
            class="text-danger small mt-1"
          >
            Este campo es obligatorio
          </div>
        </div>

        <!-- RUC -->
        <div class="mb-3">
          <label class="form-label fw-semibold">RUC</label>
          <input
            type="text"
            class="form-control"
            formControlName="ruc"
            placeholder="11 dígitos numéricos"
            maxlength="11"
          >

          <div
            *ngIf="form.get('ruc')?.touched && form.get('ruc')?.errors"
            class="text-danger small mt-1"
          >
            <div *ngIf="form.get('ruc')?.errors?.['required']">
              El RUC es obligatorio
            </div>

            <div *ngIf="form.get('ruc')?.errors?.['pattern']">
              El RUC debe tener exactamente 11 números
            </div>

            <div *ngIf="form.get('ruc')?.errors?.['rucExiste']">
              ❌ El RUC ya está registrado
            </div>
          </div>
        </div>

        <!-- CONTACTO -->
        <div class="mb-3">
          <label class="form-label fw-semibold">Contacto (Persona)</label>
          <input
            type="text"
            class="form-control"
            formControlName="contacto"
            placeholder="Nombre del contacto"
          >
        </div>

        <!-- TELÉFONO -->
        <div class="mb-3">
          <label class="form-label fw-semibold">Teléfono</label>
          <input
            type="text"
            class="form-control"
            formControlName="telefono"
            placeholder="Número de teléfono"
          >
        </div>

        <!-- DIRECCIÓN -->
        <div class="mb-3">
          <label class="form-label fw-semibold">Dirección</label>
          <input
            type="text"
            class="form-control"
            formControlName="direccion"
            placeholder="Dirección del cliente"
          >
        </div>

        <!-- BOTONES -->
        <div class="d-flex justify-content-end gap-2 mt-4">
          <a routerLink="/clientes" class="btn btn-outline-secondary">
            Cancelar
          </a>

          <button
            type="submit"
            class="btn btn-success"
            [disabled]="form.invalid"
          >
            <i class="bi bi-save"></i> Guardar
          </button>
        </div>

      </form>
    </div>
  </div>
</div>
